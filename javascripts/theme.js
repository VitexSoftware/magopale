var Opale=Opale||{};Opale.HistoryTabs=function(){"use strict";let i;const n={en:{all:"All",notes:"Notes",details:"Changes"},ro:{all:"Toate",notes:"Note",details:"Schimbări"},fr:{all:"Tout",notes:"Remarques",details:"Changements"},pl:{all:"Wszystko",notes:"Notatki",details:"Zmiany"},de:{all:"Alles",notes:"Kommentare",details:"Änderungen"},ja:{all:"すべて",notes:"注記",details:"変更"}};const o=function(){var e=$(this),t=e.attr("data-tab");i.$tabs.removeClass("selected"),e.addClass("selected"),i.$history.removeClass("hide-details").removeClass("hide-notes"),"notes"===t?i.$history.addClass("hide-details"):"details"===t&&i.$history.addClass("hide-notes")};return function(){if(i)return i;var e,t,s,a;(i=this).$tabsContainer=null,this.$tabs=null,this.$history=$("#history"),this.lang=document.documentElement.lang,void 0===n[this.lang]&&(this.lang="en"),this._=n[this.lang],0<this.$history.length&&0<$("#history > h3").length&&(e="",a="</a></li>",e=(e=(e=(e+='<div class="tabs"><ul>')+(t='<li><a href="javascript:;" class="')+"selected "+(s='history-tab" data-tab="')+'all">'+i._.all+a)+t+s+'notes">'+i._.notes+a)+t+s+'details">'+i._.details+a+"</ul></div>",i.$tabsContainer=$(e),$("#history > h3").after(i.$tabsContainer),i.$tabs=i.$tabsContainer.find(".history-tab"),i.$tabs.on("click",o),i.$history.find(".has-notes:first").addClass("first-of-notes"),i.$history.find(".has-details:first").addClass("first-of-details"))}}(),(Opale=Opale||{}).MenuCollapse=function(){"use strict";let a;const t={en:{topMenuToggler:"Expand/collapse top menu"},ro:{topMenuToggler:"Deschide/închide meniul de sus"},fr:{topMenuToggler:"Développer/réduire le menu principal"},pl:{topMenuToggler:"Zwiń/rozwiń górne menu"},de:{topMenuToggler:"Ein-/Ausklappen Hauptmenu"},ja:{topMenuToggler:"トップメニューの展開/折りたたみ"}};function e(){if(a)return a;(a=this).lang=document.documentElement.lang,void 0===t[this.lang]&&(this.lang="en"),this._=t[this.lang],this.menus={top:{$el:$("#top-menu")}};for(const e in this.menus)this.menus.hasOwnProperty(e)&&0<this.menus[e].$el.length&&!function(e){if("none"===a.menus[e].$el.css("maxHeight"))return;a.menus[e].collapsed=!0,window.localStorage&&(a.menus[e].collapsed=null===localStorage.getItem(s(e)));(function(e){var t=e+"-menu-toggler",s=a._[e+"MenuToggler"],t='<a href="javascript:;" class="'+t+'" title="'+s+'"></a>';a.menus[e].$toggler=$(t),a.menus[e].$el.prepend(a.menus[e].$toggler),a.menus[e].$toggler.on("click",{menu:e},a.toggleMenu)})(e),!1===a.isCollapsed(e)&&a.expandMenu(e)}(e)}function s(e){return"Opale:"+e+"MenuExpanded"}return e.prototype.toggleMenu=function(e){e=e.data.menu||"";a.isCollapsed(e)?a.expandMenu(e):a.collapseMenu(e)},e.prototype.isCollapsed=function(e){return this.menus[e].collapsed},e.prototype.expandMenu=function(e){this.menus[e].$el.addClass("expanded"),this.menus[e].$toggler.addClass("expanded"),this.menus[e].collapsed=!1,window.localStorage&&localStorage.setItem(s(e),"x")},e.prototype.collapseMenu=function(e){this.menus[e].$el.removeClass("expanded"),this.menus[e].$toggler.removeClass("expanded"),this.menus[e].collapsed=!0,window.localStorage&&localStorage.removeItem(s(e))},e}(),(Opale=Opale||{}).RevisionGraph=function(e,t,s){"use strict";const a=t;t=$.map(a,function(e){return e});const i=t.length-1,n=$("table.changesets tr.changeset"),o=(null!==revisionGraph?revisionGraph.clear():revisionGraph=new Raphael(e),revisionGraph.set()),l=n.first().find("td").first().position().left-$(e).position().left,r=$(e).position().top;e=l+20*(s+1);const d=n.last().position().top+n.last().height()-r,p=(revisionGraph.setSize(e,d),["#e74c3c","#584492","#019851","#ed820c","#4183c4"]);if(s>=p.length){Raphael.getColor.reset();for(let e=0;e<=s;e++)p.push(Raphael.getColor(.9))}let h,c,u,g,m,b,f,v;$.each(t,function(e,s){s.hasOwnProperty("space")||(s.space=0),u=n.eq(i-s.rdmid).position().top-r+17,c=10+l+20*s.space,revisionGraph.circle(c,u,3.5).attr({fill:p[s.space],stroke:"none"}).toFront(),$.each(s.parent_scmids,function(e,t){h=a[t],(b=h?(h.hasOwnProperty("space")||(h.space=0),m=n.eq(i-h.rdmid).position().top-r+17,g=10+l+20*h.space,h.space===s.space?revisionGraph.path(["M",c,u,"V",m]):revisionGraph.path(["M",c,u,"C",c,u,c,u+(m-u)/2,c+(g-c)/2,u+(m-u)/2,"C",c+(g-c)/2,u+(m-u)/2,g,m-(m-u)/2,g,m])):revisionGraph.path(["M",c,u,"V",d])).attr({stroke:p[s.space],"stroke-width":1.5}).toBack()}),(v=revisionGraph.circle(c,u,10)).attr({fill:"#000",opacity:0,cursor:"pointer",href:s.href}),null!==s.refs&&0<s.refs.length&&((f=document.createElementNS(revisionGraph.canvas.namespaceURI,"title")).appendChild(document.createTextNode(s.refs)),v.node.appendChild(f)),o.push(v)}),o.toFront()},$(function(){"use strict";window.drawRevisionGraph&&(window.drawRevisionGraph=Opale.RevisionGraph,$(window).resize())}),(Opale=Opale||{}).SidebarToggler=function(){"use strict";let s;const e={en:{toggler:"Toggle sidebar"},ro:{toggler:"Deschide/închide bara laterală"},fr:{toggler:"Basculer la barre latérale"},pl:{toggler:"Pokaż/ukryj panel boczny"},ja:{toggler:"サイドバーの切り替え"}};function t(){if(s)return s;(s=this).sidebarVisible=!0,this.sidebarHiding=null,this.$toggler=null,this.$main=$("#main"),this.$sidebar=$("#sidebar"),this.lang=document.documentElement.lang,void 0===e[this.lang]&&(this.lang="en"),this._=e[this.lang],"relative"===this.$main.css("position")&&$(window).on("load",function(){$("#context-menu").appendTo("#wrapper3")}),window.localStorage&&(s.sidebarVisible=null===localStorage.getItem("Opale:sidebarHidden")),0<s.$sidebar.length&&!1===s.$main.hasClass("nosidebar")&&(function(){var e='<a href="javascript:;" class="sidebar-toggler" title="'+s._.toggler+'"></a>';s.$toggler=$(e),s.$main.append(s.$toggler),s.$toggler.on("click",s.toggleSidebar)}(),function(){const t=document.getElementsByTagName("body")[0];window.onkeydown=function(e){t===e.target&&83===e.keyCode&&!1===e.ctrlKey&&!1===e.altKey&&!1===e.shiftKey&&s.toggleSidebar()}}(),!1===s.sidebarVisible)&&s.hideSidebar(!0)}return t.prototype.toggleSidebar=function(){s.sidebarVisible?s.hideSidebar():s.showSidebar()},t.prototype.hideSidebar=function(e){!0===e?this.$sidebar.addClass("sidebar-hiding sidebar-hidden"):(this.$sidebar.addClass("sidebar-hiding"),this.sidebarHiding=setTimeout(function(){s.$sidebar.addClass("sidebar-hidden")},500)),this.$toggler.addClass("sidebar-hidden"),this.sidebarVisible=!1,window.localStorage&&localStorage.setItem("Opale:sidebarHidden","x")},t.prototype.showSidebar=function(){clearTimeout(this.sidebarHiding),s.$sidebar.removeClass("sidebar-hidden"),setTimeout(function(){s.$sidebar.removeClass("sidebar-hiding")},50),this.$toggler.removeClass("sidebar-hidden"),this.sidebarVisible=!0,window.localStorage&&localStorage.removeItem("Opale:sidebarHidden")},t}(),$(function(){"use strict";new Opale.SidebarToggler,new Opale.HistoryTabs,new Opale.MenuCollapse});